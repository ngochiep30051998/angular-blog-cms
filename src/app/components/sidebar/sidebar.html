<aside [class]="isCollapsed() ? 'w-20' : 'w-64'" class="bg-gray-900 text-white h-full flex flex-col transition-all duration-300">
    <nav class="p-4 flex-1">
        <ul class="space-y-2">
            @for (item of menuItems; track item.route) {
                <li>
                    <a
                        [routerLink]="item.route"
                        routerLinkActive="bg-blue-600 text-white"
                        [routerLinkActiveOptions]="{ exact: false }"
                        [class]="isCollapsed() ? 'justify-center' : ''"
                        class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 cursor-pointer"
                        [title]="isCollapsed() ? item.label : ''"
                    >
                        <span class="text-xl flex-shrink-0">{{ item.icon }}</span>
                        @if (!isCollapsed()) {
                            <span class="font-medium whitespace-nowrap">{{ item.label }}</span>
                        }
                    </a>
                </li>
            }
        </ul>
    </nav>
    <div class="p-4 border-t border-gray-700">
        <button
            (click)="toggleCollapse()"
            class="w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 cursor-pointer"
            [title]="isCollapsed() ? 'Expand sidebar' : 'Collapse sidebar'"
        >
            <span [class]="isCollapsed() ? 'rotate-180' : ''" class="text-xl transition-transform duration-300">Â«</span>
            @if (!isCollapsed()) {
                <span class="font-medium">Collapse</span>
            }
        </button>
    </div>
</aside>
