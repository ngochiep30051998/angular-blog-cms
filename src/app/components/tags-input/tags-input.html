<div class="tags-input-container">
    <div class="flex flex-wrap gap-2 p-2 border border-gray-300 rounded-xl focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 min-h-[42px]">
        @for (tag of tags; track tag) {
            <span class="inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                {{ tag }}
                <button
                    type="button"
                    (click)="removeTag(tag)"
                    class="hover:text-blue-900 focus:outline-none"
                    aria-label="Remove tag"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </span>
        }
        <input
            type="text"
            [(ngModel)]="inputValue"
            (keydown)="onKeyDown($event)"
            [placeholder]="tags.length === 0 ? placeholder : ''"
            class="flex-1 min-w-[120px] outline-none text-sm px-2 py-1"
        />
    </div>
    @if (existingTags.length > 0) {
        <div class="mt-2">
            <p class="text-xs text-gray-500 mb-1">Existing tags:</p>
            <div class="flex flex-wrap gap-1">
                @for (tag of existingTags; track tag) {
                    @if (!tags.includes(tag)) {
                        <button
                            type="button"
                            (click)="selectExistingTag(tag)"
                            class="px-2 py-1 text-xs text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
                        >
                            + {{ tag }}
                        </button>
                    }
                }
            </div>
        </div>
    }
</div>

